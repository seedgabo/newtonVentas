<ion-content>

  <div class="printable" id="toPrint">
    <div class="invoice-box" style="max-width: 800px;margin: auto;padding: 30px;border: 1px solid #eee;box-shadow: 0 0 10px rgba(0, 0, 0, .15);font-size: 16px;line-height: 24px;font-family: 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif;color: #555;">
      <table cellpadding="0" cellspacing="0" style="width: 100%;line-height: inherit;text-align: left;">

        <tr class="top">
          <td colspan="4" style="padding: 5px;vertical-align: top;">
            <table style="width: 100%;line-height: inherit;text-align: left;">
              <tr>
                <td colspan="2" class="title" style="padding: 5px;vertical-align: top;padding-bottom: 20px;font-size: 45px;line-height: 45px;color: #333;">
                  <img [src]="api.url + 'img/logo.png'" style="max-height:100px; max-width:100px;">
                </td>
                <td style="padding: 5px;vertical-align: top;text-align: right;padding-bottom: 20px;width:100%">
                  {{'Factura' }} #: {{invoice.id }}

                  <br> {{ 'Fecha' }}: {{invoice.fecha | amDateFormat:'LLL'}}
                  <br> {{ 'Del:' }} {{ invoice.created_at | amDateFormat:'LLL'}}

                </td>
              </tr>
            </table>
          </td>
        </tr>

        <tr class="information">
          <td colspan="4" style="padding: 5px;vertical-align: top;">
            <table style="width: 100%;line-height: inherit;text-align: left;">
              <tr>
                <td style="padding: 5px;vertical-align: top;padding-bottom: 40px;">
                  {{api.settings.nombre_empresa}}
                  <br> {{api.settings.nit}}
                  <br> {{api.settings.resolucion_dian}}
                  <br> {{api.settings.cabecera_factura}}

                </td>
                <td style="padding: 5px;vertical-align: top;padding-bottom: 40px;">
                </td>
                <td *ngIf="invoice.user" style="padding: 5px;vertical-align: top;text-align: right;padding-bottom: 40px;">
                  {{ invoice.cliente.full_name }}
                  <br> {{ invoice.cliente.nit }}
                  <br> {{ invoice.cliente.email }}
                  <br>
                  <span *ngIf="invoice.receipt">
                    {{ 'Estado' }}: {{ ( invoice.estado ) }}
                  </span>

                </td>
              </tr>
            </table>
          </td>
        </tr>

        <!-- <tr class="heading">
        <td style="padding: 5px;vertical-align: top;text-align: right;background: #eee;border-bottom: 1px solid #ddd;font-weight: bold;">
        </td>
        <td style="padding: 5px;vertical-align: top;text-align: right;background: #eee;border-bottom: 1px solid #ddd;font-weight: bold;">
        </td>
        <td style="padding: 5px;vertical-align: top;background: #eee;border-bottom: 1px solid #ddd;font-weight: bold;">
        </td>
      </tr> -->

        <!-- Heading Items -->
        <tr class="heading">
          <td style="text-align:center;padding: 5px;vertical-align: top;background: #eee;border-bottom: 1px solid #ddd;font-weight: bold;">
            {{'Item' }}
          </td>

          <td style="text-align:center;padding: 5px;vertical-align: top;background: #eee;border-bottom: 1px solid #ddd;font-weight: bold;">
            {{'Cantidad' }}
          </td>
          <td style="text-align:center; padding: 5px;vertical-align: top;background: #eee;border-bottom: 1px solid #ddd;font-weight: bold;">
            {{'Precio' }}
          </td>

          <td style="text-align:center; padding: 5px;vertical-align: top;background: #eee;border-bottom: 1px solid #ddd;font-weight: bold;">
            {{'Descuento' }}
          </td>

          <td style="text-align:center;padding: 5px;vertical-align: top;background: #eee;border-bottom: 1px solid #ddd;font-weight: bold;">
            {{'SubTotal' }}
          </td>
        </tr>

        <!-- Items -->
        <tr class="item last" *ngFor="let item of invoice.items">
          <td style="padding: 5px;vertical-align: top;border-bottom: none;">
            {{item.name}}
            <span *ngIf="item.referencias">({{item.referencia}})</span>
          </td>
          <td style="padding: 5px;vertical-align: top;border-bottom: none;">
            {{item.cantidad}}
          </td>

          <td style="padding: 5px;vertical-align: top;text-align: center;border-bottom: none;">
            {{item.precio | currency:'USD':true:'4.2-2' }}
          </td>

          <td style="padding: 5px;vertical-align: top;text-align: center;border-bottom: none;">
            {{ item.descuento | currency:'USD':true:'4.2-2' }}
          </td>

          <td style="padding: 5px;vertical-align: top;text-align: center;border-bottom: none;">
            {{(item.total) | currency:'USD':true:'4.2-2' }}
          </td>
        </tr>

        <!-- Total -->
        <tr class="total">
          <td style="padding: 5px;vertical-align: top;"></td>
          <td style="padding: 5px;vertical-align: top;"></td>
          <td style="padding: 5px;vertical-align: top;"></td>
          <td style="padding: 5px;vertical-align: top;text-align: center;border-top: 2px solid #eee;font-weight: bold;">
            Total:
          </td>
          <td style="padding: 5px;vertical-align: top; text-align: center;border-top: 2px solid #eee;font-weight: bold;">
            {{ total(invoice) | currency:'USD':true:'4.2-2' }}
          </td>
        </tr>

      </table>
    </div>
  </div>
</ion-content>
